(function(){
window.addEventListener("input",validate);window.addEventListener("click",validate);window.addEventListener("form-validity",validate);window.addEventListener("form-validity",function(a){-1!==a.target.getAttribute("class").indexOf("form-validity")&&validateFormElem(a.target)});
function validate(a){var b=!1,c=a.target;if(("INPUT"===a.target.tagName||"SELECT"===a.target.tagName||"TEXTAREA"===a.target.tagName)&&"submit"!==a.target.getAttribute("type")&&"button"!==a.target.getAttribute("type")){for(;c=c.parentElement;)if(c.hasAttribute("class")&&-1!==c.getAttribute("class").indexOf("form-validity")){var e=c;b=!0;break}if(b){b=a.target.validity;console.log(b);a.target.hasAttribute("data-validity-match")&&(c=document.getElementById(a.target.getAttribute("data-validity-match")),
a.target.value!==c.value?a.target.setCustomValidity(a.target.getAttribute("data-validity-match-msg")||"Doesn't match "+(c.getAttribute("aria-label")||c.getAttribute("title")||c.getAttribute("name")||"other element")+"."):a.target.setCustomValidity(""));a.target.hasAttribute("data-validity-warn-pattern")&&(c=a.target.getAttribute("data-validity-warn-pattern"),(new RegExp(c)).test(a.target.value)?a.target.setCustomValidity(""):a.target.setCustomValidity(a.target.getAttribute("data-validity-warn-pattern-msg")||
"Incorrect format."));a.target.hasAttribute("data-validity-warn-minlength")&&(c=+a.target.getAttribute("data-validity-warn-minlength"),c>a.target.value.length?a.target.setCustomValidity(a.target.getAttribute("data-validity-warn-pattern-msg")||"Should be at least "+c+" characters long."):a.target.setCustomValidity(""));if(a.target.hasAttribute("data-validity-warn-maxlength")){var d=+a.target.getAttribute("data-validity-warn-maxlength");d>a.target.value.length?a.target.setCustomValidity(a.target.getAttribute("data-validity-warn-maxlength-msg")||
"Should not be more than "+d+" characters long."):a.target.setCustomValidity("")}a.target.hasAttribute("data-validity-warn-min")&&(c=+a.target.getAttribute("data-validity-warn-min"),c<+a.target.value?a.target.setCustomValidity(a.target.getAttribute("data-validity-warn-min-msg")||"Should not be less than "+c+"."):a.target.setCustomValidity(""));a.target.hasAttribute("data-validity-warn-max")&&(+a.target.getAttribute("data-validity-warn-max")>+a.target.value?a.target.setCustomValidity(a.target.getAttribute("data-validity-warn-max-msg")||
"Should not be more than "+d+"."):a.target.setCustomValidity(""));b.valid?a.target.setAttribute("aria-invalid","false"):a.target.setAttribute("aria-invalid","true");a.target.hasAttribute("aria-describedby")&&(d=document.getElementById(a.target.getAttribute("aria-describedby")),b.valid?(d.innerText="",d.classList.remove("error"),d.classList.remove("warning")):d.innerText=b.patternMismatch?a.target.getAttribute("title")||a.target.validationMessage:a.target.validationMessage,b.valid||d.classList.add("error"));
validateFormElem(e)}}}function validateFormElem(a){var b=a.checkValidity();a=Array.prototype.slice.apply(document.getElementsByTagName("button")).concat(Array.prototype.slice.apply(document.getElementsByTagName("input")));if(b)for(b=0;b<a.length;b++)"submit"===a[b].getAttribute("type")&&a[b].removeAttribute("disabled");else for(b=0;b<a.length;b++)"submit"===a[b].getAttribute("type")&&a[b].setAttribute("disabled","true")};
}).call(this)
